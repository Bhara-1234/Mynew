<!DOCTYPE html>
<html>

<head>
    <title>Ticket Reservation</title>
    <link rel="stylesheet" type="text/css" href="ticket_reservation.css">
</head>

<body>
    <h1>Ticket Reservation</h1>
    <br><br>

    <form>
        <!-- ...Your existing form elements... -->

        <table style="width: 85%" class="table" align="center" id="passengerTable">
            <tr>
                <th style="width:10%">SL. No.</th>
                <th>Passenger Name</th>
                <th>Gender</th>
                <th>Age</th>
                <th></th>
            </tr>
            <tr>
                <td>1.</td>
                <td><input type="text" style="width: 80%;"></td>
                <td>
                    <select id="gender" style="width: 75%;">
                        <option value="trans">--Trans--</option>
                        <option value="male">--Male--</option>
                        <option value="female">--Female--</option>
                    </select>
                </td>
                <td><input type="number" style="width: 50px; text-align: center;" min="5" max="100"></td>
                <td><input type="button" style="width: 15%;" value="del" onclick="deleteRow(this)"></td>
            </tr>
        </table>

        <br><br>
        <input type="submit" id="submitBtn" value="Book My Ticket">
        <input type="button" value="Add" id="addBtn" onclick="addRow()">
        <input type="reset" value="Cancel" id="cancel">
    </form>

    <style>
        /* Your existing CSS styles... */
    </style>

    <script>
        let rowCounter = 1;

        // Function to add a new row to the table
        function addRow() {
            const table = document.getElementById("passengerTable");
            const newRow = table.insertRow(table.rows.length - 1);

            // Create cells for the new row
            const slNoCell = newRow.insertCell(0);
            const nameCell = newRow.insertCell(1);
            const genderCell = newRow.insertCell(2);
            const ageCell = newRow.insertCell(3);
            const deleteCell = newRow.insertCell(4);

            // Set the content for the new cells
            slNoCell.innerHTML = `${++rowCounter}.`;
            nameCell.innerHTML = '<input type="text" style="width: 80%;">';
            genderCell.innerHTML = `
                <select id="gender${rowCounter}" style="width: 75%;">
                    <option value="trans">--Trans--</option>
                    <option value="male">--Male--</option>
                    <option value="female">--Female--</option>
                </select>`;
            ageCell.innerHTML = '<input type="number" style="width: 50px; text-align: center;" min="5" max="100">';
            deleteCell.innerHTML = '<input type="button" style="width: 15%;" value="del" onclick="deleteRow(this)">';

            // Reset values of previously added rows
            resetPreviousRows();
        }

        // Function to delete a row when the "del" button is clicked
        function deleteRow(button) {
            const row = button.parentNode.parentNode;
            const table = document.getElementById("passengerTable");
            table.deleteRow(row.rowIndex);

            // Update SL. No. values after deletion
            const rows = table.getElementsByTagName("tr");
            for (let i = 1; i < rows.length - 1; i++) {
                rows[i].cells[0].innerText = `${i}.`;
            }

            // Reset values of remaining rows
            resetPreviousRows();
        }

        // Function to reset values of previously added rows
        function resetPreviousRows() {
            const table = document.getElementById("passengerTable");
            const rows = table.getElementsByTagName("tr");
            for (let i = 1; i < rows.length - 1; i++) {
                rows[i].cells[1].querySelector("input[type='text']").value = "";
                rows[i].cells[2].querySelector("select").selectedIndex = 0;
                rows[i].cells[3].querySelector("input[type='number']").value = "";
            }
        }
    </script>
</body>

</html>
