<!DOCTYPE html>
<html>
<head>
    <title>Ticket Reservation</title>
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>

<body>
    <div class="container">
        <h1 class="text-center">Ticket Booking</h1>
        <br><br>
        <form id="ticketForm">
            <div class="form-row">
                <div class="col-md-4">
                    <label for="fromStation">From:</label>
                    <select id="fromStation" class="form-control">
                        <option>SKLM</option>
                        <option>BANG</option>
                        <option>VZM</option>
                        <option>VZG</option>
                        <option>HYBD</option>
                        <option>TIRUPATHI</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="toStation">To:</label>
                    <select id="toStation" class="form-control">
                        <option>SKLM</option>
                        <option>BANG</option>
                        <option>VZM</option>
                        <option>HYBD</option>
                        <option>TIRUPATHI</option>
                    </select>
                </div>
            </div>

            <br>

            <div class="form-row">
                <div class="col-md-4">
                    <label for="trainNumber">Train Number:</label>
                    <select id="trainNumber" class="form-control">
                        <option>1011</option>
                        <option>1022</option>
                        <option>1033</option>
                        <option>1044</option>
                        <option>1055</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="class">Class:</label>
                    <select id="class" class="form-control">
                        <option>1st Class</option>
                        <option>2nd Class</option>
                        <option>3rd Class</option>
                        <option>GENERAL</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <label for="date">Date:</label>
                    <input type="date" id="date" class="form-control">
                </div>
            </div>

            <br><br><br><br>

            <h3>Passengers Info</h3>
            <table class="table table-bordered" id="passengerTable">
              
                    <tr>
                        <th style="width:10%">SL. No.</th>
                        <th>Passenger Name</th>
                        <th>Gender</th>
                        <th>Age</th>
                        <th>Delete</th>
                    </tr>
              
                  
                
            </table>
            <br><br>
            <input type="button" id="submitBtn" class="btn btn-primary" value="Book My Ticket" onclick="submitForm()">
            <input type="button" class="btn btn-success" value="Add" id="addBtn" onclick="addRow()">
            <input type="reset" class="btn btn-secondary" value="Cancel" id="cancel">
        </form>
    </div>

   
    <script>

        let count = 1;

        function addRow() {
            if (count <= 6) {
                const table = document.getElementById("passengerTable");
                const newRow = table.insertRow(table.rows.length);
                const slNoCell = newRow.insertCell(0);
                const nameCell = newRow.insertCell(1);
                const genderCell = newRow.insertCell(2);
                const ageCell = newRow.insertCell(3);
                const deleteCell = newRow.insertCell(4);

                slNoCell.textContent = table.rows.length-1+".";
                nameCell.innerHTML = `<input type="text" name="passengerName" class="form-control">`;
                genderCell.innerHTML = `
                    <select name="gender" class="form-control">
                        <option value="male">M</option>
                        <option value="female">F</option>
                    </select>
                `;
                ageCell.innerHTML = `<input type="number" name="age" class="form-control" min="5" max="100">`;
                deleteCell.innerHTML = '<input type="button" class="btn btn-danger" value="Del" onclick="deleteRow(this)">';
                
                count++;
            }
        }

        function deleteRow(button) {
            const table = document.getElementById("passengerTable");
            const rowIndex = button.parentElement.parentElement.rowIndex;
            table.deleteRow(rowIndex);
            count--;
           

            for (let i = rowIndex; i < 7; i++) {
                table.rows[i].cells[0].textContent = i ;
            }
        }

    </script>
</body>
</html>
